{"version":3,"file":"task-1.js","sources":["../src/js/constans.js","../src/js/refs.js","../src/js/handlers.js","../src/js/task-1.js"],"sourcesContent":["export const USER_DATA = {\n  email: 'user@mail.com',\n  password: '123',\n};\nexport const STORAGE_KEY = 'user-Data';\n","export const refs = {\n  loginForm: document.querySelector('#login-form'),\n};\n","import { STORAGE_KEY, USER_DATA } from './constans';\nimport { refs } from './refs';\nconst { email, password, button } = refs.loginForm;\n\nexport function onLoginFormSubmit(evt) {\n  evt.preventDefault();\n  if (\n    email.value !== USER_DATA.email ||\n    password.value !== USER_DATA.password\n  ) {\n    alert('Wrong data!');\n    return;\n  }\n\n  if (button.textContent === 'Logout') {\n    button.textContent = 'Login';\n    email.disabled = false;\n    password.disabled = false;\n    localStorage.removeItem(STORAGE_KEY);\n    evt.target.reset();\n    return;\n  }\n\n  const userData = {\n    email: email.value.trim(),\n    password: password.value.trim(),\n  };\n  localStorage.setItem(STORAGE_KEY, JSON, stringify(userData));\n\n  button.textContent = 'Logout';\n  email.disabled = true;\n  password.disable = true;\n}\n\nexport function initPage() {\n  try {\n    const storageData = JSON.parse(localStorage.getItem(STORAGE_KEY));\n    if (!storageData) {\n      return;\n    }\n\n    email.value = storageData.email;\n    password.value = storageData.password;\n    button.textContent = 'Logout';\n    email.disabled = true;\n    password.disable = true;\n  } catch (err) {\n    console.log(err);\n  }\n}\n","// Якщо імейл і пароль користувача збігаються, зберігайте дані з форми при сабмите\n// у локальне сховище і змінюй кнопку login на logout і роби поля введення\n// Недоступними зміни.\n\nimport { USER_DATA } from './constans';\nimport { onLoginFormSubmit } from './handlers';\nimport { refs } from './refs';\n\n// При перезавантаженні сторінки, якщо користувач залогінений, ми маємо бачити logout-кнопку\n// та недоступні для зміни поля з даними користувача.\n// Клік по кнопці logout повертає все до початкового вигляду і видаляє дані користувача\n// З локального сховища.\n\n// Якщо введені дані не збігаються з потрібними даними, викликати аlert і\n// повідомляти про помилку\n\ndocument.addEventListener('DOMContentLoaded', initPage);\n\nrefs.onLoginForm.addEventListener('submit', onLoginFormSubmit);\n"],"names":["USER_DATA","STORAGE_KEY","refs","email","password","button","onLoginFormSubmit","evt","userData"],"mappings":"oCAAO,MAAMA,EAAY,CACvB,MAAO,gBACP,SAAU,KACZ,EACaC,EAAc,YCJdC,EAAO,CAClB,UAAW,SAAS,cAAc,aAAa,CACjD,ECAM,CAAE,MAAAC,EAAO,SAAAC,EAAU,OAAAC,CAAM,EAAKH,EAAK,UAElC,SAASI,EAAkBC,EAAK,CAErC,GADAA,EAAI,eAAc,EAEhBJ,EAAM,QAAUH,EAAU,OAC1BI,EAAS,QAAUJ,EAAU,SAC7B,CACA,MAAM,aAAa,EACnB,MACD,CAED,GAAIK,EAAO,cAAgB,SAAU,CACnCA,EAAO,YAAc,QACrBF,EAAM,SAAW,GACjBC,EAAS,SAAW,GACpB,aAAa,WAAWH,CAAW,EACnCM,EAAI,OAAO,QACX,MACD,CAED,MAAMC,EAAW,CACf,MAAOL,EAAM,MAAM,KAAM,EACzB,SAAUC,EAAS,MAAM,KAAM,CACnC,EACE,aAAa,QAAQH,EAAa,KAAM,UAAUO,CAAQ,CAAC,EAE3DH,EAAO,YAAc,SACrBF,EAAM,SAAW,GACjBC,EAAS,QAAU,EACrB,CChBA,SAAS,iBAAiB,mBAAoB,QAAQ,EAEtDF,EAAK,YAAY,iBAAiB,SAAUI,CAAiB"}